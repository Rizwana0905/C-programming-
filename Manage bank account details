#include <stdio.h>
#include <string.h>

struct BankAccount {
    int accountNumber;
    char name[50];
    float balance;
};

void displayAccount(struct BankAccount acc) {
    printf("\n--- Account Details ---\n");
    printf("Account Number: %d\n", acc.accountNumber);
    printf("Account Holder: %s\n", acc.name);
    printf("Balance: %.2f\n", acc.balance);
}

void deposit(struct BankAccount *acc, float amount) {
    acc->balance += amount;
    printf("Amount %.2f deposited successfully.\n", amount);
}

void withdraw(struct BankAccount *acc, float amount) {
    if(amount > acc->balance)
        printf("Insufficient balance.\n");
    else {
        acc->balance -= amount;
        printf("Amount %.2f withdrawn successfully.\n", amount);
    }
}

int main() {
    struct BankAccount account;
    int choice;
    float amount;

    printf("Enter account number: ");
    scanf("%d", &account.accountNumber);
    printf("Enter account holder name: ");
    getchar(); // Consume leftover newline
    fgets(account.name, sizeof(account.name), stdin);
    if(account.name[strlen(account.name)-1] == '\n') account.name[strlen(account.name)-1] = '\0';
    account.balance = 0;

    do {
        printf("\n--- Bank Menu ---\n");
        printf("1. Display Account Details\n");
        printf("2. Deposit\n");
        printf("3. Withdraw\n");
        printf("4. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch(choice) {
            case 1:
                displayAccount(account);
                break;
            case 2:
                printf("Enter amount to deposit: ");
                scanf("%f", &amount);
                deposit(&account, amount);
                break;
            case 3:
                printf("Enter amount to withdraw: ");
                scanf("%f", &amount);
                withdraw(&account, amount);
                break;
            case 4:
                printf("Exiting...\n");
                break;
            default:
                printf("Invalid choice.\n");
        }
    } while(choice != 4);

    return 0;
}
